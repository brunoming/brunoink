# 起步搭建

第一次想做自己的网站还是小学的时候，中间断断续续误打误撞，一直都没成型过，距离“网站”最近的一次是借助 Vultr 服务器，买了自己的域名（结果过期被注销了）上传了一个啥都没有的 index.html，最后不了了之。

上个月因为谢菁怡提出了做蛋糕的想法，自己身无长处，只会这点互联网技能，所以自己开始尝试学习用 `React` 写网站，谁知道一发不可收拾，觉得写代码还挺有乐趣，结果蛋糕店的想法被暂时搁置了，我倒开始利用业余时间写自己的个人网站。

因为之前的基础仅限于 `html/css`，以及一丁点 `js` 的皮毛，所以在不少不算困难的问题上踩了很久坑。正好新网站还没有内容，所以决定写一下学习过程，一个是以后再次碰到的话有个地方可以回看，另一方面也是成长的记录 :P

## 搭建准备

起步框架用的是 `create-react-app` ，其实当时我也不知道有啥框架是可以用的，只知道 `Gatsby`，但是文档有点复杂，不太看得懂。心想反正是边学边做，索性从头来过，所以用了相对干净的 `CRA`，之后用`react-router` 配路由的时候踩了巨多坑。

后来看到 `Next.js` 可能集成度更好一些（而且官方教程里给的基础实现就是博客应用😅），而且文档写的比较详细。

![Next.js 的官方文档](％PUBLIC_URL％/asset/blog/img/nextjs.png)

`CRA`提供了实现一个 `React` App 的基础脚手架，但想达到最终预想的效果还得一步一步添加自己需要的功能。

害，反正都是学，写就完事儿了💪。

## 组件构建 

因为之前一直负责的是组件工作，加上有一些 html/css 基础，所以写基本结构没啥问题。

### Stylus vs. Sass

据我目前知道的情况，大家在实现 CSS 时似乎比较少写原生的 CSS 样式，而是用第三方的 CSS 支持库代替。比如我之前接触的组件库作者喜欢用 Stylus，所以一开始我打算用 Stylus 写，结果踩了第一个大坑 —— Stylus 在 react 中的支持问题。

`create-react-app` 原生是不支持 Stylus 的，需要自己额外对 webpack 进行配置。在网上找了一些教程，尝试很久之后放弃折腾，我直接放弃了 Stylus 转用支持比较齐全的 Sass（😅就是这么简单），毕竟用起来都差不多。

在习惯了 Sass 的语法以后，现在已经离不开 Sass 了，对于之前一直在学原生 CSS 的我简直是特大喜讯😂

比较容易遇到的一个问题是在 VSCode 里写 Sass 时，如果写的时候用了 `@include` ，自动格式化代码时会错误缩进导致编译报错。这个暂时还没找到解决办法😅，还好写 Sass 因为缩进要求比较严格，不太需要用到自动格式化。

另外是 Sass 跨文件引用，在组件层可以这样引用 `@import filename`，但在 App.js 这样的顶层文件中就必须要 `@import './filename.sass'` 否则会报错，原因还没搞清楚，不过影响不是很大。

### Props 的使用

React 的 Props 方法提供了在组件树中上下级传递参数的功能。一开始用的时候比较难掌握（js基础孱弱...😅），现在基本能搞清楚 `this.props.xxx` 的工作原理和用法。

不过在组件层级比较多的时候用起来有些麻烦，今天看到有 `React.createContext` 这样的方法可以在组件树中跨层级传递参数，需要抽空实验一下。

### State 的使用

按照我目前的理解
